import{j as s}from"./jsx-runtime-D_zvdyIk.js";import{r as T}from"./index-D4lIrffr.js";import{S as U}from"./SortButton-DZ_VRFkt.js";import{C as _}from"./CsvButton-BxnVT3qS.js";import{S as D}from"./Select-DOUcZvk3.js";import{B as q}from"./Button-BkaHsfYs.js";import{I as N}from"./Icon-Bj0efVpV.js";import{C as F}from"./CsvInput-DO_SapQN.js";const L=({fileName:m,defaultPageSize:u,skeleton:p,handleOnUpload:S,sortBy:v,excludeDownload:z,includeUpload:k,isUploading:R,uploadWarningMessage:E,uploadSuccessMessage:A,excludePagination:B,footer:f,children:M})=>{const{header:i,rows:t}=M,[n,g]=T.useState(v||{index:0}),[r,d]=T.useState({num:0,size:u||50}),H=e=>{n.index===e?g({...n,desc:!n.desc}):g({index:e})},I=()=>{if(i[n.index].sort){const e=t.sort(i[n.index].sort);return n.desc?e.reverse():e}return t.sort((e,a)=>{var x,y,j,w,b,C;if(((x=e[n.index])==null?void 0:x.value)===null||((y=a[n.index])==null?void 0:y.value)===null)return 0;const l=(w=(j=e[n.index])==null?void 0:j.value)==null?void 0:w.toString().toLowerCase(),o=(C=(b=a[n.index])==null?void 0:b.value)==null?void 0:C.toString().toLowerCase();let h=l.localeCompare(o);return n.desc?-h:h})},c=()=>(r.num+1)*r.size;return s.jsxs("section",{className:"muncher-table",children:[s.jsx("div",{className:"row head",children:i.map((e,a)=>e.visibility==="hidden"?"":s.jsx("div",{title:e.title,className:e.visibility?"col main":"col",children:typeof e.name=="string"?s.jsx("div",{className:"sort-button",children:s.jsx(U,{onClick:()=>{H(a)},active:n.index===a,sortAsc:!n.desc,children:e.name})}):e.name},"row-head-"+e.name))}),p||I().slice(r.num*r.size,c()-1).map((e,a)=>s.jsx("div",{className:"row",children:e.map((l,o)=>i[o].visibility==="hidden"?"":s.jsx("div",{className:i[o].visibility?"col main":"col",children:l.content},"row-col"+a+o))},"row-"+a)),f||"",s.jsxs("div",{className:"row-footer",children:[s.jsxs("div",{className:"row-footer-buttons",children:[z?"":s.jsx(_,{filename:m||"download",variant:"secondary",title:"Download",header:i.filter(e=>!e.csvExclude).map(e=>typeof e.name=="string"?e.name:""),data:t.map(e=>e.filter((a,l)=>!i[l].csvExclude).map(a=>a.csv?a.csv?a.csv:"":a.value?a.value:""))}),k?s.jsx(F,{name:"csv-input-file",handleOnChange:S,isUploading:R,warningMessage:E,successMessage:A}):""]}),B?"":s.jsxs("div",{className:"pagination",children:[s.jsxs("div",{className:"left",children:["Rows: ",s.jsx(D,{name:"pageSize",options:[{label:"50",value:"50"},{label:"100",value:"100"},{label:"500",value:"500"}],value:r.size,onChange:e=>{d({...r,size:parseInt(e.target.value)})}})]}),s.jsxs("div",{className:"center",children:[r.num*r.size+1," - ",c()<t.length?c():t.length," of ",t.length]}),s.jsxs("div",{className:"right",children:[s.jsx(q,{variant:"transparent",disabled:r.num===0,size:"small",onClick:()=>{d({...r,num:r.num-1})},children:s.jsx(N,{name:"chevron-left"})}),s.jsx(q,{variant:"transparent",disabled:t.length-r.num*r.size<=r.size,size:"small",onClick:()=>{d({...r,num:r.num+1})},children:s.jsx(N,{name:"chevron-right"})})]})]})]})]})};L.__docgenInfo={description:"",methods:[],displayName:"Table",props:{children:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    header: Head[],
    rows: Col[][]
}`,signature:{properties:[{key:"header",value:{name:"Array",elements:[{name:"Head"}],raw:"Head[]",required:!0}},{key:"rows",value:{name:"Array",elements:[{name:"Array",elements:[{name:"Col"}],raw:"Col[]"}],raw:"Col[][]",required:!0}}]}},description:""},skeleton:{required:!1,tsType:{name:"ReactNode"},description:""},sortBy:{required:!1,tsType:{name:"Sort"},description:""},fileName:{required:!1,tsType:{name:"string"},description:""},defaultPageSize:{required:!1,tsType:{name:"number"},description:""},excludeDownload:{required:!1,tsType:{name:"literal",value:"true"},description:""},excludePagination:{required:!1,tsType:{name:"boolean"},description:""},includeUpload:{required:!1,tsType:{name:"literal",value:"true"},description:""},isUploading:{required:!1,tsType:{name:"boolean"},description:""},handleOnUpload:{required:!1,tsType:{name:"signature",type:"function",raw:"(file: File) => void",signature:{arguments:[{type:{name:"File"},name:"file"}],return:{name:"void"}}},description:""},uploadWarningMessage:{required:!1,tsType:{name:"string"},description:""},uploadSuccessMessage:{required:!1,tsType:{name:"string"},description:""},footer:{required:!1,tsType:{name:"ReactNode"},description:""}}};export{L as T};
