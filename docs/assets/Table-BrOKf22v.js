import{j as s}from"./jsx-runtime-D_zvdyIk.js";import{r as q}from"./index-D4lIrffr.js";import{S as U}from"./SortButton-DHajaYO9.js";import{C as _}from"./CsvButton-CMo5RmuL.js";import{S as D}from"./Select-D0snmrlN.js";import{B as N}from"./Button-D0_I9hGM.js";import{I as b}from"./Icon-CHNZMfZ6.js";import{C as F}from"./CsvInput-D5GBPbN9.js";const L=({fileName:m,defaultPageSize:u,skeleton:p,handleOnUpload:S,sortBy:v,excludeDownload:z,includeUpload:k,isUploading:R,uploadWarningMessage:E,uploadSuccessMessage:A,excludePagination:B,footer:f,children:M})=>{const{header:i,rows:t}=M,[a,g]=q.useState(v||{index:0}),[r,d]=q.useState({num:0,size:u||50}),H=e=>{a.index===e?g({...a,desc:!a.desc}):g({index:e})},I=()=>{if(i[a.index].sort){const e=t.sort(i[a.index].sort);return a.desc?e.reverse():e}return t.sort((e,n)=>{var x,y,j,w,C,T;if(((x=e[a.index])==null?void 0:x.value)===null||((y=n[a.index])==null?void 0:y.value)===null)return 0;const o=(w=(j=e[a.index])==null?void 0:j.value)==null?void 0:w.toString().toLowerCase(),l=(T=(C=n[a.index])==null?void 0:C.value)==null?void 0:T.toString().toLowerCase();let h=o.localeCompare(l);return a.desc?-h:h})},c=()=>(r.num+1)*r.size;return s.jsxs("section",{className:"muncher-table",children:[s.jsx("div",{className:"row head",children:i.map((e,n)=>e.visibility==="hidden"?"":s.jsx("div",{title:e.title,className:e.visibility?"col main":"col",children:typeof e.name=="string"?s.jsx("div",{className:"sort-button",children:s.jsx(U,{onClick:()=>{H(n)},active:a.index===n,sortAsc:!a.desc,children:e.name})}):e.name},"row-head-"+e.name))}),p||I().slice(r.num*r.size,c()-1).map((e,n)=>s.jsx("div",{className:"row",children:e.map((o,l)=>i[l].visibility==="hidden"?"":s.jsx("div",{className:i[l].visibility?"col main":"col",children:o.content},"row-col"+n+l))},"row-"+n)),f||"",s.jsxs("div",{className:"row-footer",children:[s.jsxs("div",{className:"row-footer-buttons",children:[z?"":s.jsx(_,{filename:m||"download",variant:"secondary",title:"Download",header:i.filter(e=>!e.csvExclude).map(e=>typeof e.name=="string"?e.name:""),data:t.map(e=>e.filter((n,o)=>!i[o].csvExclude).map(n=>n.csv?n.csv?n.csv:"":n.value?n.value:""))}),k?s.jsx(F,{name:"csv-input-file",handleOnChange:S,isUploading:R,warningMessage:E,successMessage:A}):""]}),B?"":s.jsxs("div",{className:"pagination",children:[s.jsxs("div",{className:"left",children:["Rows: ",s.jsx(D,{name:"pageSize",options:["50","100","500"],value:r.size,onChange:e=>{d({...r,size:parseInt(e.target.value)})}})]}),s.jsxs("div",{className:"center",children:[r.num*r.size+1," - ",c()<t.length?c():t.length," of ",t.length]}),s.jsxs("div",{className:"right",children:[s.jsx(N,{variant:"transparent",disabled:r.num===0,size:"small",onClick:()=>{d({...r,num:r.num-1})},children:s.jsx(b,{name:"chevron-left"})}),s.jsx(N,{variant:"transparent",disabled:t.length-r.num*r.size<=r.size,size:"small",onClick:()=>{d({...r,num:r.num+1})},children:s.jsx(b,{name:"chevron-right"})})]})]})]})]})};L.__docgenInfo={description:"",methods:[],displayName:"Table",props:{children:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    header: Head[],
    rows: Col[][]
}`,signature:{properties:[{key:"header",value:{name:"Array",elements:[{name:"Head"}],raw:"Head[]",required:!0}},{key:"rows",value:{name:"Array",elements:[{name:"Array",elements:[{name:"Col"}],raw:"Col[]"}],raw:"Col[][]",required:!0}}]}},description:""},skeleton:{required:!1,tsType:{name:"ReactNode"},description:""},sortBy:{required:!1,tsType:{name:"Sort"},description:""},fileName:{required:!1,tsType:{name:"string"},description:""},defaultPageSize:{required:!1,tsType:{name:"number"},description:""},excludeDownload:{required:!1,tsType:{name:"literal",value:"true"},description:""},excludePagination:{required:!1,tsType:{name:"boolean"},description:""},includeUpload:{required:!1,tsType:{name:"literal",value:"true"},description:""},isUploading:{required:!1,tsType:{name:"boolean"},description:""},handleOnUpload:{required:!1,tsType:{name:"signature",type:"function",raw:"(file: File) => void",signature:{arguments:[{type:{name:"File"},name:"file"}],return:{name:"void"}}},description:""},uploadWarningMessage:{required:!1,tsType:{name:"string"},description:""},uploadSuccessMessage:{required:!1,tsType:{name:"string"},description:""},footer:{required:!1,tsType:{name:"ReactNode"},description:""}}};export{L as T};
